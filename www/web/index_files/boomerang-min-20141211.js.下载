BOOMR_start=new Date().getTime();function BOOMR_check_doc_domain(b){var c;if(!b){if(window.parent===window||!document.getElementById("boomr-if-as")){return}b=document.domain}if(b.indexOf(".")===-1){return}try{c=window.parent.document;return}catch(a){document.domain=b}try{c=window.parent.document;return}catch(a){b=b.replace(/^[\w\-]+\./,"")}BOOMR_check_doc_domain(b)}BOOMR_check_doc_domain();(function(a){var c,b,g,f,e,h;if(a.parent!==a&&document.getElementById("boomr-if-as")&&document.getElementById("boomr-if-as").nodeName.toLowerCase()==="script"){a=a.parent;f=document.getElementById("boomr-if-as").src}g=a.document;if(!a.BOOMR){a.BOOMR={}}BOOMR=a.BOOMR;if(BOOMR.version){return}BOOMR.version="0.9";BOOMR.window=a;if(!BOOMR.plugins){BOOMR.plugins={}}(function(){try{if(new a.CustomEvent("CustomEvent")!==undefined){e=function(i,j){return new a.CustomEvent(i,j)}}}catch(d){}try{if(!e&&g.createEvent&&g.createEvent("CustomEvent")){e=function(j,k){var i=g.createEvent("CustomEvent");k=k||{cancelable:false,bubbles:false};i.initCustomEvent(j,k.bubbles,k.cancelable,k.detail);return i}}}catch(d){}if(!e&&g.createEventObject){e=function(j,k){var i=g.createEventObject();i.type=i.propertyName=j;i.detail=k.detail;return i}}if(!e){e=function(){return undefined}}}());h=function(d,i){var j=e(d,{detail:i});if(!j){return}BOOMR.setImmediate(function(){if(g.dispatchEvent){g.dispatchEvent(j)}else{if(g.fireEvent){g.fireEvent("onpropertychange",j)}}})};c={beacon_url:"",beacon_type:"AUTO",site_domain:a.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",strip_query_string:false,onloadfired:false,handlers_attached:false,events:{page_ready:[],page_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},vars:{},errors:{},disabled_plugins:{},xb_handler:function(d){return function(i){var j;if(!i){i=a.event}if(i.target){j=i.target}else{if(i.srcElement){j=i.srcElement}}if(j.nodeType===3){j=j.parentNode}if(j&&j.nodeName.toUpperCase()==="OBJECT"&&j.type==="application/x-shockwave-flash"){return}c.fireEvent(d,j)}},fireEvent:function(d,n){var k,l,j;d=d.toLowerCase();if(!this.events.hasOwnProperty(d)){return false}if(this.public_events.hasOwnProperty(d)){h(this.public_events[d],n)}j=this.events[d];for(k=0;k<j.length;k++){try{l=j[k];l.fn.call(l.scope,n,l.cb_data)}catch(m){BOOMR.addError(m,"fireEvent."+d)}}return true}};b={t_lstart:null,t_start:BOOMR_start,t_end:null,url:f,utils:{objectToString:function(m,l,i){var j=[],d;if(!m||typeof m!=="object"){return m}if(l===undefined){l="\n\t"}if(!i){i=0}if(Object.prototype.toString.call(m)==="[object Array]"){for(d=0;d<m.length;d++){if(i>0&&m[d]!==null&&typeof m[d]==="object"){j.push(this.objectToString(m[d],l+(l==="\n\t"?"\t":""),i-1))}else{j.push(encodeURIComponent(m[d]))}}l=","}else{for(d in m){if(Object.prototype.hasOwnProperty.call(m,d)){if(i>0&&m[d]!==null&&typeof m[d]==="object"){j.push(encodeURIComponent(d)+"="+this.objectToString(m[d],l+(l==="\n\t"?"\t":""),i-1))}else{j.push(encodeURIComponent(d)+"="+encodeURIComponent(m[d]))}}}}return j.join(l)},getCookie:function(d){if(!d){return null}d=" "+d+"=";var j,k;k=" "+g.cookie+";";if((j=k.indexOf(d))>=0){j+=d.length;k=k.substring(j,k.indexOf(";",j));return k}return null},setCookie:function(k,l,d){var m,j,i,o,n;if(!k||!c.site_domain){BOOMR.debug("No cookie name or site domain: "+k+"/"+c.site_domain);return false}m=this.objectToString(l,"&");j=k+"="+m;o=[j,"path=/","domain="+c.site_domain];if(d){n=new Date();n.setTime(n.getTime()+d*1000);n=n.toGMTString();o.push("expires="+n)}if(j.length<500){g.cookie=o.join("; ");i=this.getCookie(k);if(m===i){return true}BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+m+"\n"+i)}else{BOOMR.warn("Cookie too long: "+j.length+" "+j)}return false},getSubCookies:function(n){var m,k,d,p,j=false,o={};if(!n){return null}if(typeof n!=="string"){BOOMR.debug("TypeError: cookie is not a string: "+typeof n);return null}m=n.split("&");for(k=0,d=m.length;k<d;k++){p=m[k].split("=");if(p[0]){p.push("");o[decodeURIComponent(p[0])]=decodeURIComponent(p[1]);j=true}}return j?o:null},removeCookie:function(d){return this.setCookie(d,{},-86400)},cleanupURL:function(d){if(!d){return""}if(c.strip_query_string){return d.replace(/\?.*/,"?qs-redacted")}return d},hashQueryString:function(i,d){if(!i){return i}if(i.match(/^\/\//)){i=location.protocol+i}if(!i.match(/^(https?|file):/)){BOOMR.error("Passed in URL is invalid: "+i);return""}if(d){i=i.replace(/#.*/,"")}if(!BOOMR.utils.MD5){return i}return i.replace(/\?([^#]*)/,function(k,j){return"?"+(j.length>10?BOOMR.utils.MD5(j):j)})},pluginConfig:function(n,d,l,k){var j,m=0;if(!d||!d[l]){return false}for(j=0;j<k.length;j++){if(d[l][k[j]]!==undefined){n[k[j]]=d[l][k[j]];m++}}return(m>0)},addListener:function(j,i,d){if(j.addEventListener){j.addEventListener(i,d,false)}else{if(j.attachEvent){j.attachEvent("on"+i,d)}}},removeListener:function(j,i,d){if(j.removeEventListener){j.removeEventListener(i,d,false)}else{if(j.detachEvent){j.detachEvent("on"+i,d)}}},pushVars:function(d,o,m){var j,l,p=0;for(j in o){if(o.hasOwnProperty(j)){if(Object.prototype.toString.call(o[j])==="[object Array]"){for(l=0;l<o[j].length;++l){p+=BOOMR.utils.pushVars(d,o[j][l],j+"["+l+"]")}}else{++p;d.push(encodeURIComponent(m?(m+"["+j+"]"):j)+"="+(o[j]===undefined||o[j]===null?"":encodeURIComponent(o[j])))}}}return p},postData:function(j){var i=document.createElement("iframe"),k=document.createElement("form"),d=document.createElement("input");i.name="boomerang_post";i.style.display=k.style.display="none";k.method="POST";k.action=c.beacon_url;k.target=i.name;d.name="data";if(window.JSON){k.enctype="text/plain";d.value=JSON.stringify(c.vars)}else{k.enctype="application/x-www-form-urlencoded";d.value=j}document.body.appendChild(i);k.appendChild(d);document.body.appendChild(k);BOOMR.utils.addListener(i,"load",function(){document.body.removeChild(k);document.body.removeChild(i)});k.submit()}},init:function(j){var m,d,l=["beacon_url","beacon_type","site_domain","user_ip","strip_query_string"];BOOMR_check_doc_domain();if(!j){j={}}for(m=0;m<l.length;m++){if(j[l[m]]!==undefined){c[l[m]]=j[l[m]]}}if(j.log!==undefined){this.log=j.log}if(!this.log){this.log=function(){}}for(d in this.plugins){if(this.plugins.hasOwnProperty(d)){if(j[d]&&j[d].hasOwnProperty("enabled")&&j[d].enabled===false){c.disabled_plugins[d]=1;continue}if(c.disabled_plugins[d]){delete c.disabled_plugins[d]}if(typeof this.plugins[d].init==="function"){try{this.plugins[d].init(j)}catch(n){BOOMR.addError(n,d+".init")}}}}if(c.handlers_attached){return this}if(!c.onloadfired&&(j.autorun===undefined||j.autorun!==false)){if(g.readyState&&g.readyState==="complete"){this.setImmediate(BOOMR.page_ready,null,null,BOOMR)}else{if(a.onpagehide||a.onpagehide===null){b.utils.addListener(a,"pageshow",BOOMR.page_ready)}else{b.utils.addListener(a,"load",BOOMR.page_ready)}}}b.utils.addListener(a,"DOMContentLoaded",function(){c.fireEvent("dom_loaded")});(function(){var o,i,k;o=function(){c.fireEvent("visibility_changed")};if(g.webkitVisibilityState){b.utils.addListener(g,"webkitvisibilitychange",o)}else{if(g.msVisibilityState){b.utils.addListener(g,"msvisibilitychange",o)}else{if(g.visibilityState){b.utils.addListener(g,"visibilitychange",o)}}}b.utils.addListener(g,"mouseup",c.xb_handler("click"));i=g.getElementsByTagName("form");for(k=0;k<i.length;k++){b.utils.addListener(i[k],"submit",c.xb_handler("form_submit"))}if(!a.onpagehide&&a.onpagehide!==null){b.utils.addListener(a,"unload",function(){BOOMR.window=a=null})}}());c.handlers_attached=true;return this},page_ready:function(d){if(!d){d=a.event}if(!d){d={name:"load"}}if(c.onloadfired){return this}c.fireEvent("page_ready",d);c.onloadfired=true;return this},setImmediate:function(j,k,i,l){var d=function(){j.call(l||null,k,i||{});d=null};if(a.setImmediate){a.setImmediate(d)}else{if(a.msSetImmediate){a.msSetImmediate(d)}else{if(a.webkitSetImmediate){a.webkitSetImmediate(d)}else{if(a.mozSetImmediate){a.mozSetImmediate(d)}else{setTimeout(d,10)}}}}},subscribe:function(d,n,j,p){var k,m,o,l;d=d.toLowerCase();if(!c.events.hasOwnProperty(d)){return this}o=c.events[d];for(k=0;k<o.length;k++){m=o[k];if(m.fn===n&&m.cb_data===j&&m.scope===p){return this}}o.push({fn:n,cb_data:j||{},scope:p||null});if(d==="page_ready"&&c.onloadfired){this.setImmediate(n,null,j,p)}if(d==="page_unload"){l=function(i){if(n){n.call(p,i||a.event,j)}};if(a.onpagehide||a.onpagehide===null){b.utils.addListener(a,"pagehide",l)}else{b.utils.addListener(a,"unload",l)}b.utils.addListener(a,"beforeunload",l)}return this},addError:function(d,i){if(typeof d!=="string"){d=String(d)}if(i!==undefined){d="["+i+":"+(new Date().getTime())+"] "+d}if(c.errors[d]){c.errors[d]++}else{c.errors[d]=1}},addVar:function(i,j){if(typeof i==="string"){c.vars[i]=j}else{if(typeof i==="object"){var l=i,d;for(d in l){if(l.hasOwnProperty(d)){c.vars[d]=l[d]}}}}return this},removeVar:function(j){var d,k;if(!arguments.length){return this}if(arguments.length===1&&Object.prototype.toString.apply(j)==="[object Array]"){k=j}else{k=arguments}for(d=0;d<k.length;d++){if(c.vars.hasOwnProperty(k[d])){delete c.vars[k[d]]}}return this},requestStart:function(i){var d=new Date().getTime();BOOMR.plugins.RT.startTimer("xhr_"+i,d);return{loaded:function(j){BOOMR.responseEnd(i,d,j)}}},responseEnd:function(i,d,j){BOOMR.plugins.RT.startTimer("xhr_"+i,d);c.fireEvent("xhr_load",{name:"xhr_"+i,data:j})},sendBeacon:function(){var j,m,l,i,d,n=[];BOOMR.debug("Checking if we can send beacon");for(j in this.plugins){if(this.plugins.hasOwnProperty(j)){if(c.disabled_plugins[j]){continue}if(!this.plugins[j].is_complete()){BOOMR.debug("Plugin "+j+" is not complete, deferring beacon send");return false}}}c.vars.v=BOOMR.version;c.vars.u=BOOMR.utils.cleanupURL(g.URL.replace(/#.*/,""));if(a!==window){c.vars["if"]=""}for(j in c.errors){if(c.errors.hasOwnProperty(j)){n.push(j+(c.errors[j]>1?" (*"+c.errors[j]+")":""))}}if(n.length>0){c.vars.errors=n.join("\n")}c.errors={};c.fireEvent("before_beacon",c.vars);if(!c.beacon_url){BOOMR.debug("No beacon_url, but would have sent: "+BOOMR.utils.objectToString(c.vars));return true}m=[];d=BOOMR.utils.pushVars(m,c.vars);this.setImmediate(c.fireEvent,"onbeacon",c.vars,c);if(!d){return this}m=m.join("&");if(c.beacon_type==="POST"){BOOMR.utils.postData(m)}else{l=c.beacon_url+((c.beacon_url.indexOf("?")>-1)?"&":"?")+m;if(l.length>2000&&c.beacon_type==="AUTO"){BOOMR.utils.postData(m)}else{BOOMR.debug("Sending url: "+l.replace(/&/g,"\n\t"));i=new Image();i.src=l}}return true}};delete BOOMR_start;if(typeof BOOMR_lstart==="number"){b.t_lstart=BOOMR_lstart;delete BOOMR_lstart}else{if(typeof BOOMR.window.BOOMR_lstart==="number"){b.t_lstart=BOOMR.window.BOOMR_lstart}}(function(){var d;if(a.YAHOO&&a.YAHOO.widget&&a.YAHOO.widget.Logger){b.log=a.YAHOO.log}else{if(a.Y&&a.Y.log){b.log=a.Y.log}else{if(typeof console==="object"&&console.log!==undefined){b.log=function(i,j,k){console.log(k+": ["+j+"] "+i)}}}}d=function(i){return function(j,k){this.log(j,i,"boomerang"+(k?"."+k:""));return this}};b.debug=d("debug");b.info=d("info");b.warn=d("warn");b.error=d("error")}());(function(){var d;for(d in b){if(b.hasOwnProperty(d)){BOOMR[d]=b[d]}}}());BOOMR.plugins=BOOMR.plugins||{};h("onBoomerangLoaded",{BOOMR:BOOMR})}(window));(function(a){var c=a.document,b;BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};if(BOOMR.plugins.RT){return}b={onloadfired:false,unloadfired:false,visiblefired:false,initialized:false,complete:false,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:true,navigationType:0,navigationStart:undefined,responseStart:undefined,t_start:undefined,cached_t_start:undefined,t_fb_approx:undefined,r:undefined,r2:undefined,basic_timers:{t_done:1,t_resp:1,t_page:1},updateCookie:function(h,i){var g,e,f,d;if(!this.cookie){return false}f=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{};if(typeof h==="object"){for(d in h){if(h.hasOwnProperty(d)){if(h[d]===undefined){if(f.hasOwnProperty(d)){delete f[d]}}else{if(d==="nu"||d==="r"){h[d]=BOOMR.utils.hashQueryString(h[d],true)}f[d]=h[d]}}}}e=new Date().getTime();if(i){f[i]=e}BOOMR.debug("Setting cookie (timer="+i+")\n"+BOOMR.utils.objectToString(f),"rt");if(!BOOMR.utils.setCookie(this.cookie,f,this.cookie_exp)){BOOMR.error("cannot set start cookie","rt");return false}g=new Date().getTime();if(g-e>50){BOOMR.utils.removeCookie(this.cookie);BOOMR.error("took more than 50ms to set cookie... aborting: "+e+" -> "+g,"rt")}return true},initFromCookie:function(){var d,e;e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie));if(!e){return}e.s=Math.max(+e.ul||0,+e.cl||0);BOOMR.debug("Read from cookie "+BOOMR.utils.objectToString(e),"rt");if(e.s&&(e.r||e.nu)){this.r=e.r;d=BOOMR.utils.hashQueryString(c.URL,true);BOOMR.debug(this.r+" =?= "+this.r2,"rt");BOOMR.debug(e.s+" <? "+(+e.cl+15),"rt");BOOMR.debug(e.nu+" =?= "+d,"rt");if(!this.strict_referrer||(e.nu&&e.nu===d&&e.s<+e.cl+15)||(e.s===+e.ul&&this.r===this.r2)){this.t_start=e.s;if(+e.hd>e.s){this.t_fb_approx=parseInt(e.hd,10)}}else{this.t_start=this.t_fb_approx=undefined}}this.updateCookie({s:undefined,r:undefined,nu:undefined,ul:undefined,cl:undefined,hd:undefined})},getBoomerangTimings:function(){var g,d,i,f;if(BOOMR.t_start){BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start);BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end);BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start);if(BOOMR.t_lstart){BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart);BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)}}try{if(window.performance&&window.performance.getEntriesByName){i={"rt.bmr.":BOOMR.url};for(f in i){if(i.hasOwnProperty(f)&&i[f]){g=window.performance.getEntriesByName(i[f]);if(!g||g.length===0){continue}g=g[0];for(d in g){if(g.hasOwnProperty(d)&&d.match(/(Start|End)$/)&&g[d]>0){BOOMR.addVar(f+d.replace(/^(...).*(St|En).*$/,"$1$2"),g[d])}}}}}}catch(h){BOOMR.addError(h,"rt.getBoomerangTimings")}},checkPreRender:function(){if(!(c.visibilityState&&c.visibilityState==="prerender")&&!(c.msVisibilityState&&c.msVisibilityState===3)){return false}BOOMR.plugins.RT.startTimer("t_load",this.navigationStart);BOOMR.plugins.RT.endTimer("t_load");BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart);BOOMR.plugins.RT.startTimer("t_postrender");BOOMR.subscribe("visibility_changed",BOOMR.plugins.RT.done,"visible",BOOMR.plugins.RT);return true},initFromNavTiming:function(){var d,f,e;if(this.navigationStart){return}f=a.performance||a.msPerformance||a.webkitPerformance||a.mozPerformance;if(f&&f.navigation){this.navigationType=f.navigation.type}if(f&&f.timing){d=f.timing}else{if(a.chrome&&a.chrome.csi&&a.chrome.csi().startE){d={navigationStart:a.chrome.csi().startE};e="csi"}else{if(a.gtbExternal&&a.gtbExternal.startE()){d={navigationStart:a.gtbExternal.startE()};e="gtb"}}}if(d){BOOMR.addVar("rt.start",e||"navigation");this.navigationStart=d.navigationStart||d.fetchStart||undefined;this.responseStart=d.responseStart||undefined;if(navigator.userAgent.match(/Firefox\/[78]\./)){this.navigationStart=d.unloadEventStart||d.fetchStart||undefined}}else{BOOMR.warn("This browser doesn't support the WebTiming API","rt")}return},setPageLoadTimers:function(d){b.initFromCookie();b.initFromNavTiming();if(b.checkPreRender()){return false}if(b.responseStart){BOOMR.plugins.RT.endTimer("t_resp",b.responseStart);if(b.timers.t_load){BOOMR.plugins.RT.setTimer("t_page",b.timers.t_load.end-b.responseStart)}else{BOOMR.plugins.RT.setTimer("t_page",d-b.responseStart)}}else{if(b.timers.hasOwnProperty("t_page")){BOOMR.plugins.RT.endTimer("t_page")}else{if(b.t_fb_approx){BOOMR.plugins.RT.endTimer("t_resp",b.t_fb_approx);BOOMR.plugins.RT.setTimer("t_page",d-b.t_fb_approx)}}}if(b.timers.hasOwnProperty("t_postrender")){BOOMR.plugins.RT.endTimer("t_postrender");BOOMR.plugins.RT.endTimer("t_prerender")}return true},setSupportingTimestamps:function(d){BOOMR.addVar("rt.tstart",d);if(typeof b.t_start==="number"&&b.t_start!==d){BOOMR.addVar("rt.cstart",b.t_start)}BOOMR.addVar("rt.bstart",BOOMR.t_start);if(BOOMR.t_lstart){BOOMR.addVar("rt.blstart",BOOMR.t_lstart)}BOOMR.addVar("rt.end",b.timers.t_done.end)},determineTStart:function(e,f){var d;if(e==="xhr"&&f&&b.timers[f]){d=b.timers[f].start;BOOMR.addVar("rt.start","manual")}else{if(b.navigationStart){d=b.navigationStart}else{if(b.t_start&&b.navigationType!==2){d=b.t_start;BOOMR.addVar("rt.start","cookie")}else{if(b.cached_t_start){d=b.cached_t_start}else{BOOMR.addVar("rt.start","none");d=undefined}}}}BOOMR.debug("Got start time: "+d,"rt");b.cached_t_start=d;return d},page_ready:function(){this.onloadfired=true},visibility_changed:function(){if(!(c.hidden||c.msHidden||c.webkitHidden)){b.visiblefired=true}},page_unload:function(d){BOOMR.debug("Unload called with "+BOOMR.utils.objectToString(d)+" when unloadfired = "+this.unloadfired,"rt");if(!this.unloadfired){BOOMR.plugins.RT.done(d,"unload")}this.updateCookie({r:c.URL},d.type==="beforeunload"?"ul":"hd");this.unloadfired=true},_iterable_click:function(e,f,h,d){var g;if(!h){return}BOOMR.debug(e+" called with "+h.nodeName,"rt");while(h&&h.nodeName.toUpperCase()!==f){h=h.parentNode}if(h&&h.nodeName.toUpperCase()===f){BOOMR.debug("passing through","rt");g=d(h);this.updateCookie({nu:g},"cl");BOOMR.addVar("nu",BOOMR.utils.cleanupURL(g))}},onclick:function(d){b._iterable_click("Click","A",d,function(e){return e.href})},onsubmit:function(d){b._iterable_click("Submit","FORM",d,function(f){var e=f.action||c.URL||"";return e.match(/\?/)?e:e+"?"})},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")}};BOOMR.plugins.RT={init:function(d){BOOMR.debug("init RT","rt");if(a!==BOOMR.window){a=BOOMR.window}c=a.document;BOOMR.utils.pluginConfig(b,d,"RT",["cookie","cookie_exp","strict_referrer"]);b.r=b.r2=BOOMR.utils.hashQueryString(c.referrer,true);b.initFromCookie();b.getBoomerangTimings();if(b.initialized){return this}b.complete=false;b.timers={};BOOMR.subscribe("page_ready",b.page_ready,null,b);b.visiblefired=!(c.hidden||c.msHidden||c.webkitHidden);if(!b.visiblefired){BOOMR.subscribe("visibility_changed",b.visibility_changed,null,b)}BOOMR.subscribe("page_ready",this.done,"load",this);BOOMR.subscribe("xhr_load",this.done,"xhr",this);BOOMR.subscribe("dom_loaded",b.domloaded,null,b);BOOMR.subscribe("page_unload",b.page_unload,null,b);BOOMR.subscribe("click",b.onclick,null,b);BOOMR.subscribe("form_submit",b.onsubmit,null,b);BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this);b.initialized=true;return this},startTimer:function(d,e){if(d){if(d==="t_page"){this.endTimer("t_resp",e)}b.timers[d]={start:(typeof e==="number"?e:new Date().getTime())}}return this},endTimer:function(d,e){if(d){b.timers[d]=b.timers[d]||{};if(b.timers[d].end===undefined){b.timers[d].end=(typeof e==="number"?e:new Date().getTime())}}return this},setTimer:function(d,e){if(d){b.timers[d]={delta:e}}return this},addTimersToBeacon:function(g,e){var f,h,d=[];for(f in b.timers){if(b.timers.hasOwnProperty(f)){h=b.timers[f];if(typeof h.delta!=="number"){if(typeof h.start!=="number"){h.start=b.cached_t_start}h.delta=h.end-h.start}if(isNaN(h.delta)){continue}if(b.basic_timers.hasOwnProperty(f)){BOOMR.addVar(f,h.delta)}else{d.push(f+"|"+h.delta)}}}if(d.length){BOOMR.addVar("t_other",d.join(","))}if(e==="beacon"){b.timers={};b.complete=false}},done:function(h,f){BOOMR.debug("Called done with "+BOOMR.utils.objectToString(h)+", "+f,"rt");var e,g=new Date().getTime(),d=false;b.complete=false;if(f==="load"||f==="visible"){if(!b.setPageLoadTimers(g)){return this}}if(f==="xhr"&&h&&h.data){d=h.data.subresource}e=b.determineTStart(f,h?h.name:null);this.endTimer("t_done",g);BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","r","r2","rt.tstart","rt.cstart","rt.bstart","rt.end","rt.subres","rt.abld");b.setSupportingTimestamps(e);this.addTimersToBeacon();if(f!=="xhr"){BOOMR.addVar("r",BOOMR.utils.cleanupURL(b.r));if(b.r2!==b.r){BOOMR.addVar("r2",BOOMR.utils.cleanupURL(b.r2))}}if(d){BOOMR.addVar("rt.subres",1)}b.updateCookie();if(f==="unload"){BOOMR.addVar("rt.quit","");if(!b.onloadfired){BOOMR.addVar("rt.abld","")}if(!b.visiblefired){BOOMR.addVar("rt.ntvu","")}}b.complete=true;BOOMR.sendBeacon();return this},is_complete:function(){return b.complete}}}(window));(function(){BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};if(BOOMR.plugins.DNS){return}var a={complete:false,base_url:"",t_start:null,t_dns:null,t_http:null,img:null,gen_url:"",start:function(){if(a.gen_url){return}var c=Math.random().toString(36),b=(new Date().getTime())+"."+(Math.random());a.gen_url=a.base_url.replace(/\*/,c);a.img=new Image();a.img.onload=a.A_loaded;a.t_start=new Date().getTime();a.img.src=a.gen_url+"image-l.gif?t="+b},A_loaded:function(){var b;a.t_dns=new Date().getTime()-a.t_start;b=(new Date().getTime())+"."+(Math.random());a.img=new Image();a.img.onload=a.B_loaded;a.t_start=new Date().getTime();a.img.src=a.gen_url+"image-l.gif?t="+b},B_loaded:function(){a.t_http=new Date().getTime()-a.t_start;a.img=null;a.done()},done:function(){var b=a.t_dns-a.t_http;BOOMR.addVar("dns.t",b);a.complete=true;a.gen_url="";BOOMR.sendBeacon()}};BOOMR.plugins.DNS={init:function(b){BOOMR.utils.pluginConfig(a,b,"DNS",["base_url"]);if(!a.base_url){BOOMR.warn("DNS.base_url is not set.  Cannot run DNS test.","dns");a.complete=true;return this}if(BOOMR.window.location.protocol==="https:"){a.complete=true;return this}BOOMR.subscribe("page_ready",a.start,null,a);return this},is_complete:function(){return a.complete}}}());(function(){BOOMR=BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};if(BOOMR.plugins.NavigationTiming){return}var a={complete:false,done:function(){var b=BOOMR.window,f,c,e,d;if(this.complete){return this}f=b.performance||b.msPerformance||b.webkitPerformance||b.mozPerformance;if(f&&f.timing&&f.navigation){BOOMR.info("This user agent supports NavigationTiming.","nt");c=f.navigation;e=f.timing;d={nt_red_cnt:c.redirectCount,nt_nav_type:c.type,nt_nav_st:e.navigationStart,nt_red_st:e.redirectStart,nt_red_end:e.redirectEnd,nt_fet_st:e.fetchStart,nt_dns_st:e.domainLookupStart,nt_dns_end:e.domainLookupEnd,nt_con_st:e.connectStart,nt_con_end:e.connectEnd,nt_req_st:e.requestStart,nt_res_st:e.responseStart,nt_res_end:e.responseEnd,nt_domloading:e.domLoading,nt_domint:e.domInteractive,nt_domcontloaded_st:e.domContentLoadedEventStart,nt_domcontloaded_end:e.domContentLoadedEventEnd,nt_domcomp:e.domComplete,nt_load_st:e.loadEventStart,nt_load_end:e.loadEventEnd,nt_unload_st:e.unloadEventStart,nt_unload_end:e.unloadEventEnd};if(e.secureConnectionStart){d.nt_ssl_st=e.secureConnectionStart}if(e.msFirstPaint){d.nt_first_paint=e.msFirstPaint}BOOMR.addVar(d)}if(b.chrome&&b.chrome.loadTimes){e=b.chrome.loadTimes();if(e){d={nt_spdy:(e.wasFetchedViaSpdy?1:0),nt_first_paint:e.firstPaintTime};BOOMR.addVar(d)}}this.complete=true;BOOMR.sendBeacon()}};BOOMR.plugins.NavigationTiming={init:function(){BOOMR.subscribe("page_ready",a.done,null,a);BOOMR.subscribe("page_unload",a.done,null,a);return this},is_complete:function(){return a.complete}}}());